#include QMK_KEYBOARD_H

#include "baobaozi.h"

/* Re-pass though to allow templates to be used */
#define LAYOUT_wrapper(...) LAYOUT(__VA_ARGS__)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [_COLEMAK] = LAYOUT_wrapper(
        // ┌── Esc ──┬─── 1 ───┬─── 2 ───┬─── 3 ───┬─── 4 ───┬─── 5 ───┐  Thumbs                          Thumbs  ┌─── 6 ───┬─── 7 ───┬─── 8 ───┬─── 9 ───┬─── 0 ───┬─ Extra ─┐
            KC_ESC   ,_________________ROW_NUMBERS_L___________________,                                           _________________ROW_NUMBERS_R___________________,KC_MPLY  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐                      ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            KC_TAB   ,_________________ROW_TOP_COLMK_L_________________,TGNAV    ,                       TGQWER   ,_________________ROW_TOP_COLMK_R_________________,KC_BSPC  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                      ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            LTN(GRV) ,_________________ROW_MID_COLMK_L_________________,XXXXXXX  ,                       XXXXXXX  ,_________________ROW_MID_COLMK_R_________________,LTN(ENT) ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐  ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            KC_LSFT  ,_________________ROW_BOT_COLMK_L_________________,KC_DEL   ,KC_ESC   ,   TD(CORX) ,G(KC_V)  ,_________________ROW_BOT_COLMK_R_________________,OS(LSFT) ,
        // ├─────────┼─────────┼─────────┼─────────┼─────┬───┴─────┬───┼─────────┼─────────┤  ├─────────┼─────────┼────┬────┴────┬────┼─────────┼─────────┼─────────┼─────────┤
            __T_L4___,XXXXXXX  ,AAG(NO)  ,__T_L3___,      __T_L2___,    __T_L1___,__T_L3___,   __T_R3___,__T_R1___,     __T_R2___,     KC_LEFT  ,KC_UP    ,KC_DOWN  ,KC_RGHT
        // └─────────┴─────────┴─────────┴─────────┘     └─────────┘   └─────────┴─────────┘  └─────────┴─────────┘    └─────────┘    └─────────┴─────────┴─────────┴─────────┘
    ),

    [_QWERTY] = LAYOUT_wrapper(
        // ┌── Esc ──┬─── 1 ───┬─── 2 ───┬─── 3 ───┬─── 4 ───┬─── 5 ───┐  Thumbs                          Thumbs  ┌─── 6 ───┬─── 7 ───┬─── 8 ───┬─── 9 ───┬─── 0 ───┬─ Extra ─┐
            _______  ,_________________ROW_NUMBERS_L___________________,                                           _________________ROW_NUMBERS_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐                      ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_QWERT_L_________________,_______  ,                       _______  ,_________________ROW_TOP_QWERT_R_________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                      ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_QWERT_L_________________,_______  ,                       _______  ,_________________ROW_MID_QWERT_R_________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐  ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_QWERT_L_________________,_______  ,_______  ,   _______  ,_______  ,_________________ROW_BOT_QWERT_R_________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────┬───┴─────┬───┼─────────┼─────────┤  ├─────────┼─────────┼────┬────┴────┬────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,      _______  ,    _______  ,_______  ,   _______  ,_______  ,     _______  ,     _______  ,_______  ,_______  ,_______
        // └─────────┴─────────┴─────────┴─────────┘     └─────────┘   └─────────┴─────────┘  └─────────┴─────────┘    └─────────┘    └─────────┴─────────┴─────────┴─────────┘
    ),

    [_NAV] = LAYOUT_wrapper(
        // ┌── Esc ──┬─── 1 ───┬─── 2 ───┬─── 3 ───┬─── 4 ───┬─── 5 ───┐  Thumbs                          Thumbs  ┌─── 6 ───┬─── 7 ───┬─── 8 ───┬─── 9 ───┬─── 0 ───┬─ Extra ─┐
            _______  ,_________________ROW_5_NOTHING___________________,                                           _________________ROW_5_NOTHING___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐                      ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_NAV_L___________________,_______  ,                       _______  ,_________________ROW_TOP_NAV_R___________________,KC_DEL   ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                      ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_NAV_L___________________,_______  ,                       _______  ,_________________ROW_MID_NAV_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐  ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_NAV_L___________________,_______  ,_______  ,   _______  ,_______  ,_________________ROW_BOT_NAV_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────┬───┴─────┬───┼─────────┼─────────┤  ├─────────┼─────────┼────┬────┴────┬────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,      _______  ,    _______  ,_______  ,   _______  ,_______  ,     KC_F     ,     _______  ,_______  ,_______  ,_______
        // └─────────┴─────────┴─────────┴─────────┘     └─────────┘   └─────────┴─────────┘  └─────────┴─────────┘    └─────────┘    └─────────┴─────────┴─────────┴─────────┘
    ),

    [_SYM] = LAYOUT_wrapper(
        // ┌── Esc ──┬─── 1 ───┬─── 2 ───┬─── 3 ───┬─── 4 ───┬─── 5 ───┐  Thumbs                          Thumbs  ┌─── 6 ───┬─── 7 ───┬─── 8 ───┬─── 9 ───┬─── 0 ───┬─ Extra ─┐
            _______  ,_________________ROW_5_NOTHING___________________,                                           _________________ROW_5_NOTHING___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐                      ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_SYM_L___________________,_______  ,                       _______  ,_________________ROW_TOP_SYM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                      ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_SYM_L___________________,_______  ,                       _______  ,_________________ROW_MID_SYM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐  ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_SYM_L___________________,_______  ,_______  ,   _______  ,_______  ,_________________ROW_BOT_SYM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────┬───┴─────┬───┼─────────┼─────────┤  ├─────────┼─────────┼────┬────┴────┬────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,      _______  ,    _______  ,_______  ,   _______  ,_______  ,     _______  ,     _______  ,_______  ,_______  ,_______
        // └─────────┴─────────┴─────────┴─────────┘     └─────────┘   └─────────┴─────────┘  └─────────┴─────────┘    └─────────┘    └─────────┴─────────┴─────────┴─────────┘
    ),

    [_NUM] = LAYOUT_wrapper(
        // ┌── Esc ──┬─── 1 ───┬─── 2 ───┬─── 3 ───┬─── 4 ───┬─── 5 ───┐  Thumbs                          Thumbs  ┌─── 6 ───┬─── 7 ───┬─── 8 ───┬─── 9 ───┬─── 0 ───┬─ Extra ─┐
            _______  ,_________________ROW_5_NOTHING___________________,                                           _________________ROW_5_NOTHING___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐                      ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_NUM_L___________________,_______  ,                       _______  ,_________________ROW_TOP_NUM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                      ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_NUM_L___________________,_______  ,                       _______  ,_________________ROW_MID_NUM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐  ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_NUM_L___________________,_______  ,_______  ,   _______  ,_______  ,_________________ROW_BOT_NUM_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────┬───┴─────┬───┼─────────┼─────────┤  ├─────────┼─────────┼────┬────┴────┬────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,      _______  ,    _______  ,_______  ,   _______  ,_______  ,     KC_0     ,     KC_DOT   ,_______  ,_______  ,_______
        // └─────────┴─────────┴─────────┴─────────┘     └─────────┘   └─────────┴─────────┘  └─────────┴─────────┘    └─────────┘    └─────────┴─────────┴─────────┴─────────┘
    ),

    [_KB] = LAYOUT_wrapper(
        // ┌── Esc ──┬─── 1 ───┬─── 2 ───┬─── 3 ───┬─── 4 ───┬─── 5 ───┐  Thumbs                          Thumbs  ┌─── 6 ───┬─── 7 ───┬─── 8 ───┬─── 9 ───┬─── 0 ───┬─ Extra ─┐
            _______  ,_________________ROW_5_NOTHING___________________,                                           _________________ROW_5_NOTHING___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐                      ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_KB_L____________________,_______  ,                       _______  ,_________________ROW_TOP_KB_R____________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                      ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_KB_L____________________,TGQWER   ,                       TGCLMK   ,_________________ROW_MID_KB_R____________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐  ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_KB_L____________________,_______  ,_______  ,   _______  ,_______  ,_________________ROW_BOT_KB_R____________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────┬───┴─────┬───┼─────────┼─────────┤  ├─────────┼─────────┼────┬────┴────┬────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,      _______  ,    _______  ,_______  ,   _______  ,_______  ,     _______  ,     _______  ,_______  ,_______  ,_______
        // └─────────┴─────────┴─────────┴─────────┘     └─────────┘   └─────────┴─────────┘  └─────────┴─────────┘    └─────────┘    └─────────┴─────────┴─────────┴─────────┘
    ),

    [_CUR] = LAYOUT_wrapper(
        // ┌── Esc ──┬─── 1 ───┬─── 2 ───┬─── 3 ───┬─── 4 ───┬─── 5 ───┐  Thumbs                          Thumbs  ┌─── 6 ───┬─── 7 ───┬─── 8 ───┬─── 9 ───┬─── 0 ───┬─ Extra ─┐
            _______  ,_________________ROW_5_NOTHING___________________,                                           _________________ROW_5_NOTHING___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐                      ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_TOP_CUR_L___________________,_______  ,                       _______  ,_________________ROW_TOP_CUR_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤                      ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_MID_CUR_L___________________,_______  ,                       _______  ,_________________ROW_MID_CUR_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┐  ┌─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_________________ROW_BOT_CUR_L___________________,_______  ,_______  ,   _______  ,_______  ,_________________ROW_BOT_CUR_R___________________,_______  ,
        // ├─────────┼─────────┼─────────┼─────────┼─────┬───┴─────┬───┼─────────┼─────────┤  ├─────────┼─────────┼────┬────┴────┬────┼─────────┼─────────┼─────────┼─────────┤
            _______  ,_______  ,_______  ,_______  ,      _______  ,    _______  ,_______  ,   _______  ,_______  ,     _______  ,     _______  ,_______  ,_______  ,_______
        // └─────────┴─────────┴─────────┴─────────┘     └─────────┘   └─────────┴─────────┘  └─────────┴─────────┘    └─────────┘    └─────────┴─────────┴─────────┴─────────┘
    ),
};

// doesn't work
// #ifdef RGBLIGHT_ENABLE
// static uint32_t rgb_timer = 0;

// bool process_record_keymap(uint16_t keycode, keyrecord_t *record) {
//     if (record->event.pressed) {
//         rgb_timer = timer_read32(); // when you type again, reset the timer to let you know inactivity
//     }

//     if (timer_elapsed32(rgb_timer) > 60000) {
//         rgblight_disable_noeeprom(); // turn off the underglow when there's inactivity

//         return;
//     } else {
//         rgblight_enable_noeeprom();
//     }

//     return true;
// }

// void oled_task_user(void) { // should i be using some other function since redox doesn't have an OLED?
//     if (timer_elapsed32(rgb_timer) > 60000) {
//         rgblight_disable_noeeprom(); // turn off the underglow when there's inactivity

//         return;
//     } else {
//         rgblight_enable_noeeprom();
//     }
// }
// #endif
